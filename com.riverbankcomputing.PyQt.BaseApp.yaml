app-id: com.riverbankcomputing.PyQt.BaseApp
branch: '6.3'
runtime: org.kde.Platform
runtime-version: '6.3'
sdk: org.kde.Sdk
command: QtWebEngineProcess
separate-locales: false
base: io.qt.qtwebengine.BaseApp
base-version: '6.3'
x-base-commit: dbcfe7c1bf008b0d1de28a3b20b075889ea162337c0ee5890f5660de4455f84f
modules:
  - name: lib_python
    buildsystem: simple
    build-commands:
      - install -dm755 ${FLATPAK_DEST}/lib
      - ln -s python$(python -c 'import sys; print("%s.%s" %sys.version_info[0:2])') ${FLATPAK_DEST}/lib/python
  - python-packaging-tools/python-packaging-tools.json
  - pyqt/pyqt.json
  - pyqt-webengine/pyqt-webengine.json
  - name: polish
    buildsystem: simple
    build-commands:
      - mv ${FLATPAK_DEST}/cleanup-BaseApp{,-QtWebEngine}.sh
      - install -Dm755 cleanup.sh ${FLATPAK_DEST}/cleanup-BaseApp.sh
      - install -Dm644 ${FLATPAK_ID}.metainfo.xml -t ${FLATPAK_DEST}/share/metainfo/
    sources:
      - type: file
        path: cleanup.sh
      - type: file
        path: com.riverbankcomputing.PyQt.BaseApp.metainfo.xml
