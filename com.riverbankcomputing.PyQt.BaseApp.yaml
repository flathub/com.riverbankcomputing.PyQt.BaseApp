app-id: com.riverbankcomputing.PyQt.BaseApp
branch: 5.15-23.08
runtime: org.kde.Platform
runtime-version: 5.15-23.08
sdk: org.kde.Sdk
command: QtWebEngineProcess
separate-locales: false
base: io.qt.qtwebengine.BaseApp
base-version: 5.15-23.08
x-base-commit: 1d6c4d3448a2179ea2ec99c6c563ab7fa2dcddf93d78a3661d28931a9b9616ae
modules:
  - name: lib_python
    buildsystem: simple
    build-commands:
      - install -dm755 ${FLATPAK_DEST}/lib
      - ln -s python$(python -c 'import sys; print("%s.%s" %sys.version_info[0:2])') ${FLATPAK_DEST}/lib/python
  - python-packaging-tools/python-packaging-tools.json
  - pyqt/pyqt.json
  - pyqt-webengine/pyqt-webengine.json
  - name: polish
    buildsystem: simple
    build-commands:
      - mv ${FLATPAK_DEST}/cleanup-BaseApp{,-QtWebEngine}.sh
      - install -Dm755 cleanup.sh ${FLATPAK_DEST}/cleanup-BaseApp.sh
      - install -Dm644 ${FLATPAK_ID}.metainfo.xml -t ${FLATPAK_DEST}/share/metainfo/
    sources:
      - type: file
        path: cleanup.sh
      - type: file
        path: com.riverbankcomputing.PyQt.BaseApp.metainfo.xml
